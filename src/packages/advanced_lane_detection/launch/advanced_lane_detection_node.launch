<?xml version="1.0"?>
<launch>
    <arg name="veh" default="$(env VEHICLE_NAME)" doc="Name of vehicle"/>
    <arg name="config" default="baseline" doc="Configuration mode"/>
    <arg name="param_file_name" default="default" doc="Parameter file name"/>
    
    <group ns="$(arg veh)">
        <node name="advanced_lane_detector" pkg="advanced_lane_detection" type="advanced_lane_detector.py" output="screen" clear_params="true">
            <!-- Remap topics -->
            <remap from="~image" to="camera_node/image/compressed"/>
            <remap from="~advanced_lane_pose" to="advanced_lane_detector_node/advanced_lane_pose"/>
            
            <!-- Parameters -->
            <param name="prediction_horizon" value="1.0"/>
            <param name="roi_y_start" value="120"/>
            <param name="meters_per_pixel_x" value="0.003"/>
            <param name="meters_per_pixel_y" value="0.003"/>
            
            <!-- HSV thresholds -->
            <rosparam param="yellow_lower">[15, 80, 80]</rosparam>
            <rosparam param="yellow_upper">[40, 255, 255]</rosparam>
            <rosparam param="white_lower">[0, 0, 200]</rosparam>
            <rosparam param="white_upper">[180, 40, 255]</rosparam>
        </node>
    </group>
</launch>
